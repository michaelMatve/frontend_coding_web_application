{"ast":null,"code":"var _jsxFileName = \"/home/michael/Desktop/coding_web_application/front_end/src/CodePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport CodeBlock from './components/CodeBlock';\nimport CodeBlock2 from './components/CodeBlock2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CodePage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [socket, setSocket] = useState(null);\n  const [isMentor, setIsMentor] = useState(null);\n  useEffect(() => {\n    // Fetch the isMentor value from the server\n    fetch(`http://localhost:3002/Mentor_id/${id}`).then(response => response.json()).then(data => {\n      setIsMentor(data.isMentor);\n    }).catch(error => {\n      console.error('Error fetching isMentor:', error);\n    });\n    const socket = io('http://localhost:3002', {\n      query: {\n        codeId: id,\n        isMentor: null\n      }\n    });\n    setSocket(socket);\n    return () => {\n      socket.disconnect();\n    };\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: socket && isMentor !== null &&\n    /*#__PURE__*/\n    // Render different components based on isMentor value\n    _jsxDEV(_Fragment, {\n      children: isMentor ? /*#__PURE__*/_jsxDEV(CodeBlock2, {\n        id: id,\n        socket: socket,\n        isMentor: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(CodeBlock, {\n        id: id,\n        socket: socket,\n        isMentor: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 12\n  }, this);\n};\n_s(CodePage, \"Hs2LbTJS4bEfDybOiwMlgfwfpWA=\", false, function () {\n  return [useParams];\n});\n_c = CodePage;\nexport default CodePage;\nvar _c;\n$RefreshReg$(_c, \"CodePage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","io","CodeBlock","CodeBlock2","jsxDEV","_jsxDEV","Fragment","_Fragment","CodePage","_s","id","socket","setSocket","isMentor","setIsMentor","fetch","then","response","json","data","catch","error","console","query","codeId","disconnect","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/michael/Desktop/coding_web_application/front_end/src/CodePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport io from 'socket.io-client';\nimport CodeBlock from './components/CodeBlock';\nimport CodeBlock2 from './components/CodeBlock2';\n\nconst CodePage = () => {\n    const { id } = useParams();\n    const [socket, setSocket] = useState(null);\n    const [isMentor, setIsMentor] = useState(null);\n\n    useEffect(() => {\n        \n        // Fetch the isMentor value from the server\n        fetch(`http://localhost:3002/Mentor_id/${id}`)\n            .then(response => response.json())\n            .then(data => {\n                setIsMentor(data.isMentor);\n            })\n            .catch(error => {\n                console.error('Error fetching isMentor:', error);\n            });\n        \n        const socket = io('http://localhost:3002', {\n            query: { codeId: id , isMentor : null},\n        });\n        setSocket(socket);\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [id]);\n\n    return (\n           <div>\n      {socket && isMentor !== null && (\n        // Render different components based on isMentor value\n        <>\n          {isMentor ? (\n            <CodeBlock2 id={id} socket={socket} isMentor = {1}/>\n          ) : (\n            <CodeBlock id={id} socket={socket} isMentor = {0}/>\n          )}\n        </>\n      )}\n    </div>\n    );\n};\n\nexport default CodePage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,EAAE,MAAM,kBAAkB;AACjC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,UAAU,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEjD,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAAEC;EAAG,CAAC,GAAGV,SAAS,CAAC,CAAC;EAC1B,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IAEZ;IACAiB,KAAK,CAAE,mCAAkCL,EAAG,EAAC,CAAC,CACzCM,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACVL,WAAW,CAACK,IAAI,CAACN,QAAQ,CAAC;IAC9B,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IACpD,CAAC,CAAC;IAEN,MAAMV,MAAM,GAAGV,EAAE,CAAC,uBAAuB,EAAE;MACvCsB,KAAK,EAAE;QAAEC,MAAM,EAAEd,EAAE;QAAGG,QAAQ,EAAG;MAAI;IACzC,CAAC,CAAC;IACFD,SAAS,CAACD,MAAM,CAAC;IAEjB,OAAO,MAAM;MACTA,MAAM,CAACc,UAAU,CAAC,CAAC;IACvB,CAAC;EACL,CAAC,EAAE,CAACf,EAAE,CAAC,CAAC;EAER,oBACOL,OAAA;IAAAqB,QAAA,EACJf,MAAM,IAAIE,QAAQ,KAAK,IAAI;IAAA;IAC1B;IACAR,OAAA,CAAAE,SAAA;MAAAmB,QAAA,EACGb,QAAQ,gBACPR,OAAA,CAACF,UAAU;QAACO,EAAE,EAAEA,EAAG;QAACC,MAAM,EAAEA,MAAO;QAACE,QAAQ,EAAI;MAAE;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,gBAEpDzB,OAAA,CAACH,SAAS;QAACQ,EAAE,EAAEA,EAAG;QAACC,MAAM,EAAEA,MAAO;QAACE,QAAQ,EAAI;MAAE;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IACnD,gBACD;EACH;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACrB,EAAA,CAzCID,QAAQ;EAAA,QACKR,SAAS;AAAA;AAAA+B,EAAA,GADtBvB,QAAQ;AA2Cd,eAAeA,QAAQ;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}