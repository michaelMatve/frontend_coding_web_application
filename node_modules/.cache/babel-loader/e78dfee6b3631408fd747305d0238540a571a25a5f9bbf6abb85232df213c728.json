{"ast":null,"code":"var _jsxFileName = \"/home/michael/Desktop/coding_web_application/front_end/src/components/MentorCodeBlock.js\";\nimport React, { Component } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MentorCodeBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchCodeList = async () => {\n      try {\n        const response = await fetch(`http://localhost:3002/get_code_block/${this.state.id}`);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const {\n          title,\n          code\n        } = await response.json();\n        this.setState({\n          title,\n          code\n        });\n      } catch (error) {\n        console.error('Error fetching code list:', error);\n      }\n    };\n    this.setupSocket = () => {\n      const {\n        socket\n      } = this.props;\n      console.log(\"try1\");\n      console.log(\"try2\");\n      socket.on('updateCodeBody', data => {\n        if (data.id === this.state.id) {\n          this.setState({\n            code: data.newCode\n          });\n        }\n      });\n    };\n    this.handleBodyChange = newCode => {\n      const {\n        socket\n      } = this.props;\n      this.setState({\n        code: newCode\n      });\n      if (socket) {\n        socket.emit('updateCodeBody', {\n          id: this.state.id,\n          newCode\n        });\n      }\n    };\n    this.state = {\n      \"id\": props.id,\n      \"title\": '',\n      \"code\": '',\n      \"isMentor\": props.isMentor\n    };\n  }\n  componentDidMount() {\n    this.fetchCodeList();\n    this.setupSocket();\n  }\n  render() {\n    const {\n      id,\n      title,\n      code,\n      isMentor\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"ID: \", id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(SyntaxHighlighter, {\n          language: \"javascript\",\n          style: vscDarkPlus,\n          children: code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Return to Lobby\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default MentorCodeBlock;","map":{"version":3,"names":["React","Component","Prism","SyntaxHighlighter","vscDarkPlus","Link","jsxDEV","_jsxDEV","MentorCodeBlock","constructor","props","fetchCodeList","response","fetch","state","id","ok","Error","title","code","json","setState","error","console","setupSocket","socket","log","on","data","newCode","handleBodyChange","emit","isMentor","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","language","style","to"],"sources":["/home/michael/Desktop/coding_web_application/front_end/src/components/MentorCodeBlock.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { Link } from 'react-router-dom';\n\n\nclass MentorCodeBlock extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"id\": props.id,\n            \"title\": '',\n            \"code\": '',\n            \"isMentor\": props.isMentor\n        };\n    }\n\n    componentDidMount() {\n        this.fetchCodeList();\n        this.setupSocket();\n    }\n\n    fetchCodeList = async () => {\n        try {\n            const response = await fetch(`http://localhost:3002/get_code_block/${this.state.id}`);\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n\n            const { title, code } = await response.json();\n            this.setState({ title, code });\n        } catch (error) {\n            console.error('Error fetching code list:', error);\n        }\n    };\n\n    setupSocket = () => {\n        const { socket } = this.props;\n        console.log(\"try1\");\n        console.log(\"try2\");\n        socket.on('updateCodeBody', (data) => {\n            if (data.id === this.state.id) {\n                this.setState({ code: data.newCode });\n            }\n        });\n    };\n\n    handleBodyChange = (newCode) => {\n        const { socket } = this.props;\n\n        this.setState({ code: newCode });\n\n        if (socket) {\n            socket.emit('updateCodeBody', { id: this.state.id, newCode });\n        }\n    };\n\n    render() {\n        const { id, title, code, isMentor } = this.state;\n        return (\n            <div>\n            <h1>ID: {id}</h1>\n            <div>\n                <h1>{title}</h1>\n                {/* Use SyntaxHighlighter for syntax highlighting */}\n                <SyntaxHighlighter language=\"javascript\" style={vscDarkPlus}>\n                    {code}\n                </SyntaxHighlighter>\n            </div>\n            <Link to=\"/\">Return to Lobby</Link>\n        </div>\n        );\n    }\n}\n\nexport default MentorCodeBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}