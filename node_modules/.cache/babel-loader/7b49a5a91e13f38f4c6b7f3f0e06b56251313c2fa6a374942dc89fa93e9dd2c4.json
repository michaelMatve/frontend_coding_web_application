{"ast":null,"code":"var _jsxFileName = \"/home/michael/Desktop/coding_web_application/front_end/src/components/StudentCodeBlock.js\";\nimport React, { Component } from 'react';\nimport { Editor } from '@monaco-editor/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass StudentCodeBlock extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchCodeList = async () => {\n      try {\n        const response = await fetch(`http://localhost:3002/get_code_block/${this.state.id}`);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const {\n          title,\n          code\n        } = await response.json();\n        this.setState({\n          title,\n          code\n        });\n      } catch (error) {\n        console.error('Error fetching code list:', error);\n      }\n    };\n    this.setupSocket = () => {\n      const {\n        socket\n      } = this.props;\n      console.log(\"try1\");\n      console.log(\"try2\");\n      socket.on('updateCodeBody', data => {\n        if (data.id === this.state.id) {\n          this.setState({\n            code: data.newCode\n          });\n        }\n      });\n    };\n    this.handleBodyChange = newCode => {\n      const {\n        socket\n      } = this.props;\n      this.setState({\n        code: newCode\n      });\n      if (socket) {\n        socket.emit('updateCodeBody', {\n          id: this.state.id,\n          newCode\n        });\n      }\n    };\n    this.state = {\n      \"id\": props.id,\n      \"title\": '',\n      \"code\": '',\n      \"isMentor\": props.isMentor\n    };\n  }\n  componentDidMount() {\n    this.fetchCodeList();\n    this.setupSocket();\n  }\n  render() {\n    const {\n      id,\n      title,\n      code,\n      isMentor\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isMentor === 1 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Code Page For Mentor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Code Page For Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"the task is : \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Editor, {\n          className: \"code-editor\",\n          height: \"500px\",\n          width: \"800px\",\n          theme: \"vs-dark\",\n          defaultLanguage: \"javascript\",\n          value: code,\n          onChange: this.handleBodyChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default StudentCodeBlock;","map":{"version":3,"names":["React","Component","Editor","jsxDEV","_jsxDEV","StudentCodeBlock","constructor","props","fetchCodeList","response","fetch","state","id","ok","Error","title","code","json","setState","error","console","setupSocket","socket","log","on","data","newCode","handleBodyChange","emit","isMentor","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","height","width","theme","defaultLanguage","value","onChange"],"sources":["/home/michael/Desktop/coding_web_application/front_end/src/components/StudentCodeBlock.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Editor } from '@monaco-editor/react';\n\nclass StudentCodeBlock extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"id\": props.id,\n            \"title\": '',\n            \"code\": '',\n            \"isMentor\" : props.isMentor\n        };\n    }\n\n    componentDidMount() {\n        this.fetchCodeList();\n        this.setupSocket();\n    }\n\n    fetchCodeList = async () => {\n        try {\n            const response = await fetch(`http://localhost:3002/get_code_block/${this.state.id}`);\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n\n            const { title, code } = await response.json();\n            this.setState({ title, code });\n        } catch (error) {\n            console.error('Error fetching code list:', error);\n        }\n    };\n\n    setupSocket = () => {\n        const { socket } = this.props;\n        console.log(\"try1\");\n        console.log(\"try2\");\n        socket.on('updateCodeBody', (data) => {\n            if (data.id === this.state.id) {\n                this.setState({ code: data.newCode });\n            }\n        });\n    };\n\n    handleBodyChange = (newCode) => {\n        const { socket } = this.props;\n\n        this.setState({ code: newCode });\n\n        if (socket) {\n            socket.emit('updateCodeBody', { id: this.state.id, newCode });\n        }\n    };\n\n    render() {\n        const { id, title, code,isMentor } = this.state;\n        return (\n            <div>\n                {isMentor === 1 ? (\n                  <h1>Code Page For Mentor</h1>\n                ) : (\n                    <h1>Code Page For Student</h1>\n                )}\n                <h2>the task is : {title}</h2>\n                <div>\n                    <Editor className=\"code-editor\" height=\"500px\" width = \"800px\" theme='vs-dark' defaultLanguage='javascript' value={code} onChange={this.handleBodyChange}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default StudentCodeBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}